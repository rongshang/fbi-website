<link rel="stylesheet" href="/css/allproduct.css"/>
<div  class="container">
    <div class="left">
        <div  class="well lefttop" style="text-align: center">
            <strong ng-bind="datas.title"></strong>
        </div>
        <div  class="leftcenter" style="margin-top: -15px;">
            <ul id="myTab" class="nav nav-tabs nav-pills" style="width: 150px;border: 0px;">
                <li ng-repeat="productTitle in datas.productsTitle" ng-class="{true:'active'}[productTitle._id==datas.productid]" id="{{productTitle._id}}" >
                    <a ng-href="#/productdetail?id={{productTitle._id}}" data-toggle="tab">{{productTitle.title}}</a>
                </li>
            </ul>
        </div>
    </div>
    <div class="panel panel-default right" >
        <div class="panel-heading panel-h">
            <span class="flag"></span>&nbsp;&nbsp;<a ng-href="#/welcome">首页</a>&nbsp;> &nbsp;产品列表
        </div>
        <div class="plist">
                <div class="product" ng-repeat="product in datas.allProducts">
                    <img ng-src="{{product.image}}"class="img" />
                    <span class="product_s">
                        <a class="product_a" ng-href="#/productdetail?id={{product._id}}" ng-bind="product.title" ></a>
                    </span>
                </div>
                <div class="pagination pagination-sm right_end_fy">
                    <li><a ng-href="#/allproduct?pageNo=1"> 首页</a></li>
                    <li><a ng-href="#/allproduct?pageNo={{datas.pageNo-1<=0?1:datas.pageNo-1}}"> 上一页</a></li>
                    <li><a ng-href="#/allproduct?pageNo={{datas.pageNo+1>=datas.pageCount?datas.pageCount:datas.pageNo+1}}"> 下一页</a></li>
                    <li><a ng-href="#/allproduct?pageNo={{datas.pageCount}}"> 尾页</a></li>
                    <li><a href="javascript:void(0);">共{{datas.pageNo}}/{{datas.pageCount}}页</a></li>
                </div>
                <div style="float: left">&nbsp;&nbsp;
                    第<input type="text" id="pageNo" class="input-small right_end_go">页
                    <input type="hidden" id="pageCount" value="{{datas.pageCount}}" />
                    <button type="button" onclick="go()">go</button>
                </div>
        </div>
    </div>
</div>

<script type="text/javascript">
    $(document).ready(function(){
        $("#myTab li").css("width","180px")
    });

    function go(){
        var pageNo = $("#pageNo").val();
        var pageCount = parseInt($("#pageCount").val());
        if(pageNo=="")
        {
            pageNo=1;
        }else if(parseInt(pageNo)>pageCount){
            pageNo=pageCount;
        }
        window.location.href="#/allproduct?pageNo="+pageNo;
    }
</script>
