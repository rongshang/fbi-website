<link href="../libs/adminLTE/plugins/datatables/dataTables.bootstrap.css" rel="stylesheet" type="text/css" />
<link href="../libs/adminLTE/dist/css/skins/_all-skins.min.css" rel="stylesheet" type="text/css" />
<div class="row">
    <div class="col-xs-12">
        <div class="box">
            <div class="box-header">
                <h3 class="box-title">
                   联系我们
                </h3>
            </div><!-- /.box-header -->
            <div class="box-body" style="overflow:scroll ;">
                <table id="table" class="table table-bordered table-hover">
                    <thead>
                    <tr>
                        <th>公司地址</th>
                        <th style="width: 20px;">公司邮箱</th>
                        <th>公司微信</th>
                        <th style="width: 20px;">公司qq</th>
                        <th style="width: 30px;">公司电话</th>
                        <th style="width: 30px;">公司传真</th>
                        <th>公司二维码</th>
                        <th>公司LOGO</th>
                        <th>操作</th>
                    </tr>
                    </thead>
                    <tbody>
                    <tr ng-repeat="contactus in datas.contactus">
                        <td ng-bind="contactus.address"></td>
                        <td style="width: 20px;"ng-bind-html="contactus.email"></td>
                        <td ng-bind="contactus.code"></td>
                        <td style="width: 20px;" ng-bind="contactus.qq"></td>
                        <td style="width: 30px;" ng-bind-html="contactus.tel"></td>
                        <td style="width: 30px;" ng-bind="contactus.fax"></td>
                        <td><img ng-src="{{contactus.codeImg}}" style="width: 60px;height: 80px;" /></td>
                        <td><img ng-src="{{contactus.logo}}" style="width: 60px;height: 80px;" /></td>
                        <td>
                            <input type="button" value="修改" ng-click="update(contactus._id)"  class="btn btn-info" />
                            <input type="button" value="删除" ng-click="del(contactus._id)" class="btn btn-danger" />
                        </td>
                    </tr>
                    </tbody>
                </table>
                <div style="text-align: right;">
                    <div class="pagination pagination-sm right_end_fy">
                        <li><a ng-href="/admin/#/adminAllContactus/1">首页</a></li>
                        <li><a ng-href="/admin/#/adminAllContactus/{{datas.pageNo-1<=0?1:datas.pageNo-1}}"> 上一页</a></li>
                        <li><a ng-href="/admin/#/adminAllContactus/{{datas.pageNo+1>=datas.pageCount?datas.pageCount:datas.pageNo+1}}"> 下一页</a></li>
                        <li><a ng-href="/admin/#/adminAllContactus/{{datas.pageCount}}"> 尾页</a></li>
                        <li><a href="javascript:void(0);">共{{datas.pageNo}}/{{datas.pageCount}}页</a></li>
                        <li>第<input type="text" id="pageNo" class="input-small right_end_go" style="width: 30px;">页</li>
                        <li><input type="hidden" id="pageCount" value="{{datas.pageCount}}" /></li>
                        <li><button type="button" class="btn btn-default" role="button" onclick="go()">go</button></li>
                    </div>
                </div>
            </div><!-- /.box-body -->
        </div><!-- /.box -->
    </div>
</div>


<!-- DATA TABES SCRIPT -->
<script src="../libs/adminLTE/plugins/datatables/jquery.dataTables.min.js" type="text/javascript"></script>
<script src="../libs/adminLTE/plugins/datatables/dataTables.bootstrap.min.js" type="text/javascript"></script>
<!-- SlimScroll -->
<script src="../libs/adminLTE/plugins/slimScroll/jquery.slimscroll.min.js" type="text/javascript"></script>
<!-- FastClick -->
<script src='../libs/adminLTE/plugins/fastclick/fastclick.min.js'></script>
<!-- AdminLTE for demo purposes -->
<script src="../libs/adminLTE/dist/js/demo.js" type="text/javascript"></script>

<script type="text/javascript">
    $(function () {
        //$("#table").dataTable();
        $('#table').dataTable({
            "bPaginate": true,
            "bLengthChange": false,
            "bFilter": false,
            "bSort": true,
            "bInfo": true,
            "bAutoWidth": false
        });
    });

    function go(){
        var pageNo = $("#pageNo").val();
        var pageCount = parseInt($("#pageCount").val());
        if(pageNo=="")
        {
            pageNo=1;
        }else if(parseInt(pageNo)>pageCount){
            pageNo=pageCount;
        }
        window.location.href="/admin/#/adminAllContactus/"+pageNo;
    }
</script>
